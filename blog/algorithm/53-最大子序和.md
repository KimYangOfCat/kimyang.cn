---
title: "ã€Œ53. æœ€å¤§å­åºå’Œã€é¢˜è§£"
date: 2021-04-19
tags: [LeetCode,Algorithm]
categories: [ğŸ“ ç®—æ³•é¢˜è§£]
---
# [53. æœ€å¤§å­åºå’Œ](https://leetcode-cn.com/problems/maximum-subarray/)

**å°ç›®æ ‡ï¼šç™¾ç¯‡é¢˜è§£ä¹‹äº”ï¼Œç ´ç™¾å¼€æºæˆåº“**ã€‚å…³æ³¨æˆ‘ï¼ˆ[Github](https://github.com/KimYangOfCat)ã€[åŠ›æ‰£](https://leetcode-cn.com/u/kimyang/)ï¼‰ï¼Œå³å¯è·å–æœ€æ–°é¢˜è§£ã€‚

## é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚ <!-- more -->

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [-2,1,-3,4,-1,2,1,-5,4]
è¾“å‡ºï¼š6
è§£é‡Šï¼šè¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6 ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [1]
è¾“å‡ºï¼š1
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnums = [0]
è¾“å‡ºï¼š0
```

**ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šnums = [-1]
è¾“å‡ºï¼š-1
```

**ç¤ºä¾‹ 5ï¼š**

```
è¾“å…¥ï¼šnums = [-100000]
è¾“å‡ºï¼š-100000
```

**æç¤ºï¼š**

- `1 <= nums.length <= 3 * 104`
- `-105 <= nums[i] <= 105`

**è¿›é˜¶ï¼š** å¦‚æœä½ å·²ç»å®ç°å¤æ‚åº¦ä¸º `O(n)` çš„è§£æ³•ï¼Œå°è¯•ä½¿ç”¨æ›´ä¸ºç²¾å¦™çš„ **åˆ†æ²»æ³•** æ±‚è§£ã€‚

**ç›¸å…³ä¿¡æ¯**ï¼š

+ éš¾åº¦ï¼šç®€å•
+ æ ‡ç­¾ï¼šæ•°ç»„ã€åˆ†æ²»ã€åŠ¨æ€è§„åˆ’

## é¢˜è§£

è¿™é“é¢˜ç›®çš„çœŸå®éš¾åº¦åº”è¯¥æ˜¯ä¸æ­¢ç®€å•è¿™ä¸ªå±‚çº§ï¼Œæˆ‘åœ¨è¯»å®Œé¢˜ç›®ä¹‹åçš„ç¬¬ä¸€ä¸ªæƒ³æ³•å°±æ˜¯ä½¿ç”¨æš´åŠ›çš„æ»‘åŠ¨çª—å£ï¼Œä½†æ˜¯ä¸€çœ‹è¿™ä¸ªèŒƒå›´ï¼Œä¼°æ‘¸ç€å¿…ç„¶ä¼šè¶…æ—¶ï¼Œäºæ˜¯å°±æ”¾å¼ƒè¿™ä¸ªæƒ³æ³•ã€‚åœ¨çœ‹å®Œæ‰€æœ‰é¢˜è§£ä»¥åï¼Œæ€»ç»“äº†ä¸€ä¸‹ç›®å‰çš„è§£æ³•ï¼Œåˆ†åˆ«æ˜¯æš´åŠ›æšä¸¾ã€åŠ¨æ€è§„åˆ’ä»¥åŠåˆ†æ²»ç®—æ³•ä¸‰ç§å¤§çš„æ–¹å‘ï¼Œå…¶ä¸­è¿˜æœ‰å¾ˆå¤šæ¯”è¾ƒå°çš„ä¸€äº›è§£æ³•åŸºæœ¬éƒ½æ˜¯åŸºäºè¿™ä¸‰ç§æ–¹æ³•å»è¿›ä¸€æ­¥æ”¹è¿›ï¼Œæˆ–è€…è¯´æ˜¯å…·ä½“å®ç°çš„ä»£ç ç¨æœ‰ä¸åŒã€‚

æ±‚å­åºåˆ—çš„æœ€å¤§å’Œï¼Œä¸€èˆ¬éƒ½å°‘ä¸äº†éå†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆæ€è€ƒä¸€ä¸‹ï¼Œæ•°ç»„æˆ–è€…å­—ç¬¦ä¸²çš„å­åºåˆ—æœ‰å‡ ç§éå†æ–¹å¼ï¼Ÿ

åœ¨[ã€Šè¯¦ç»†è§£è¯»åŠ¨æ€è§„åˆ’çš„å®ç°, æ˜“ç†è§£ã€‹](https://leetcode-cn.com/problems/maximum-subarray/solution/xiang-xi-jie-du-dong-tai-gui-hua-de-shi-xian-yi-li/) ä¸€æ–‡ä¸­æ€»ç»“çš„ä¸‰ç§éå†æ–¹å¼ï¼š

1. ä»¥æŸä¸ªèŠ‚ç‚¹å¼€å¤´çš„æ‰€æœ‰å­åºåˆ—ï¼šå¦‚ï¼š[a]ã€[a,b]ç­‰ä»¥ a å¼€å¤´çš„å­åºåˆ—ï¼Œè¿™ç§æ–¹å¼å¸¸ç”¨äºæš´åŠ›è§£æ³•ã€‚
2. æ ¹æ®å­åºåˆ—çš„é•¿åº¦ä¸ºåŸºç¡€ï¼šå¦‚å…ˆéå†å‡ºå­åºåˆ—é•¿åº¦ä¸º 1 çš„å­åºåˆ—ï¼Œå†éå†å‡ºé•¿åº¦ä¸º2çš„ç­‰ç­‰ã€‚
3. ä»¥æŸä¸ªèŠ‚ç‚¹ç»“å°¾çš„æ‰€æœ‰å­åºåˆ—ï¼šå¦‚ï¼š[b]ã€[a,b]ç­‰ä»¥ b ç»“å°¾çš„å­åºåˆ—ï¼Œ**è¿™ç§æ–¹å¼å¯ä»¥äº§ç”Ÿé€’æ¨å…³ç³»**ï¼Œå¸¸ç”¨äºåŠ¨æ€è§„åˆ’ä¸­ã€‚

ä¸‹é¢å°±ä»æš´åŠ›æšä¸¾å¼€å§‹ä¸€æ­¥æ­¥ä¼˜åŒ–ä»£ç ï¼š

### æ–¹æ³•ä¸€ï¼šæš´åŠ›æšä¸¾

#### æš´åŠ›å‡ºä¸äº†å¥‡è¿¹(è¶…å‡ºæ—¶é—´é™åˆ¶ğŸš«)

æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸Šæ–‡ä¸­æåˆ°çš„ç¬¬ä¸€ç§éå†æ–¹å¼ï¼Œä½¿ç”¨é¦–å°¾æŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘å­åºåˆ—çš„é¦–å°¾ï¼Œå†ä¾æ¬¡ç§»åŠ¨ä»–ä»¬è¾¾åˆ°å¾ªç¯æ‰€æœ‰å­åºåˆ—çš„ç›®çš„ï¼ŒåŒæ—¶å†ä½¿ç”¨ä¸€ä¸ªforå¾ªç¯è®¡ç®—é¦–å°¾æŒ‡é’ˆä¹‹é—´å…ƒç´ çš„å’Œã€‚æ•…æ­¤éœ€è¦ä¸‰ä¸ªforå¾ªç¯ï¼Œæ•…æ—¶é—´å¤æ‚åº¦è¾¾åˆ°äº†O(n3)çº§åˆ«ï¼Œå¿…ç„¶ä¼šè¶…å‡ºæ—¶é—´é™åˆ¶ã€‚

```javascript
var maxSubArray = function (nums) {
    //æš´åŠ›å¾ªç¯
    let max = -Infinity;
    for (let start = 0; start < nums.length; start++) {
        for (let end = start; end < nums.length; end++) {
            let sum = 0;
            for (let i = start; i <= end; i++) {
                sum += nums[i]
            }
            max = max > sum ? max : sum;
        }
    }
    return max
};
```

#### å‰ç¼€å’Œ+æš´åŠ›

ä¸Šè¾¹è¿™æ®µä»£ç æ¯æ¬¡åœ¨è®¡ç®—å’Œçš„æ—¶å€™éƒ½æ˜¯ä»å­åºåˆ—ä»å¤´åˆ°å°¾è¿›è¡Œè®¡ç®—ï¼Œå°½ç®¡å‰ä¸€ä¸ªå­åºåˆ—ä¸åä¸€ä¸ªå­åºåˆ—åªæœ‰æœ€åä¸€ä¸ªå…ƒç´ ä¸åŒï¼Œä¹Ÿä¼šå†æ¬¡æŠŠå‰é¢çš„ç›¸åŒå…ƒç´ é‡æ–°è®¡ç®—ä¸€æ¬¡ï¼Œä½†æ˜¯è¿™æ ·å°±äº§ç”Ÿäº†å¾ˆå¤šé‡å¤è®¡ç®—ï¼Œæˆ‘ä»¬å¯ä»¥å°†sumå˜é‡æåˆ°å¤–å±‚å»ï¼Œè®©å®ƒä¸€ç›´ä¿æŒå­åºåˆ—å‰é¢çš„å’Œï¼Œè¿™æ ·å°±èƒ½å¤§å¤§é™ä½é‡å¤è®¡ç®—ï¼Œä½¿å¾—æ—¶é—´å¤æ‚åº¦å¯ä»¥å°†è‡³O(n2)ã€‚è€Œè¿™ä¾¿æ˜¯æ‰€è°“çš„å‰ç¼€å’Œï¼š

```javascript
/**
æ‰§è¡Œç”¨æ—¶ï¼š248 ms   >5.49%
å†…å­˜æ¶ˆè€—ï¼š39.4 MB  >41.22%
*/
var maxSubArray = function (nums) {
    //å‰ç¼€å’Œ+æš´åŠ›å¾ªç¯
    let max = -Infinity;
    let sum;
    for (let start = 0; start < nums.length; start++) {
        sum = 0;//é‡ç½®ä¸º0
        for (let end = start; end < nums.length; end++) {
            sum += nums[end]
            max = max > sum ? max : sum;
        }
    }
    return max
};
```

#### ä¼˜åŒ–å‰ç¼€å’Œ+ä¸€æ¬¡å¾ªç¯

ä¸Šè¾¹ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å‰ç¼€å’Œä¼˜åŒ–äº†çº¯æš´åŠ›ï¼Œä½†æ˜¯æˆ‘ä»¬ç»†å¿ƒåœ°æ€è€ƒå‰ç¼€å’Œçš„è®¡ç®—è¿‡ç¨‹ï¼Œé‚£ä½ è‚¯å®šä¼šæƒŠå¥‡åœ°å‘ç°ï¼Œå…¶å®è®¡ç®—å‰ç¼€å’Œçš„è¿‡ç¨‹ä¸­ä¹Ÿæœ‰éå¸¸å¤šçš„é‡å¤è®¡ç®—ï¼Œæ¯”å¦‚å¤–éƒ¨å¾ªç¯çš„ç¬¬ä¸€è½®å¾ªç¯çš„å­åºåˆ—å’Œç¬¬äºŒè½®å¾ªç¯çš„å­åºåˆ—ï¼Œå®ƒä»¬åªæ˜¯å¤´éƒ¨å’Œå°¾éƒ¨æœ‰æ‰€ä¸åŒï¼Œä¸­é—´çš„å…ƒç´ ä¹Ÿæ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œä½†è¿˜æ˜¯ä¼šé‡æ–°è®¡ç®—ä¸€æ¬¡ã€‚é‚£æˆ‘ä»¬å¯ä»¥æƒ³åŠæ³•ä¼˜åŒ–è¿™ä¸€éƒ¨åˆ†çš„é‡å¤è®¡ç®—ï¼Œä½¿å¾—æ—¶é—´å¤æ‚åº¦é™ä¸ºO(n)ã€‚é‚£æˆ‘ä»¬å¯ä»¥æ”¹å˜å’Œçš„è®¡ç®—æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•° S(i) ;å®ƒå¯ä»¥è®¡ç®—æ•°ç»„ä» 0 åˆ° iï¼ˆåŒ…æ‹¬ 0 å’Œ i ï¼‰ ä½ç½®çš„å…ƒç´ å’Œï¼Œé‚£ä¹ˆä» i åˆ° j ï¼ˆ j > i ï¼‰çš„å’Œå°±ç­‰äº S( j ) - S(i)ã€‚

è¿›ä¸€æ­¥åˆ†æï¼Œå› ä¸ºæˆ‘ä»¬è¦æ±‚çš„æ˜¯å­åºåˆ—çš„æœ€å¤§å’Œï¼Œé‚£ä¹ˆåœ¨ä¸€æ¬¡å¾ªç¯çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å½“å‰ä½ç½®çš„ S(i) å‡å»å‰é¢ i-1ä¸ªä½ç½®ä¸­çš„æœ€å°å€¼ï¼Œå°±èƒ½å¾—åˆ°ä»¥å½“å‰ä½ç½®ç»“å°¾çš„æ‰€æœ‰å­åºåˆ—å’Œçš„æœ€å¤§å€¼ã€‚æ‰€ä»¥æˆ‘ä»¬å¹¶ä¸éœ€è¦ç»´æŒæ‰€æœ‰ä½ç½®çš„ S()ï¼Œåªéœ€è¦ä¸€ä¸ª min å˜é‡æ¥è®°å½•æ‰€æœ‰ä½ç½®ä¸­çš„ S() çš„æœ€å°å€¼å°±å¯ä»¥äº†ã€‚

```javascript
/*
æ‰§è¡Œç”¨æ—¶: 80 ms
å†…å­˜æ¶ˆè€—: 39.1 MB
*/
var maxSubArray = function (nums) {
    //ä¼˜åŒ–å‰ç¼€å’Œ+ä¸€æ¬¡å¾ªç¯
    let max = nums[0];
    let sum = 0;
    let min = 0;
    for (let start = 0; start < nums.length; start++) {
        sum += nums[end]
        max = max > (sum - min) ? max : (sum - min);
        min = sum < min ? sum : min;
    }
    return max
};
```

### æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’

è®¸å¤šé¢˜è§£éƒ½è¯´åŠ¨æ€è§„åˆ’çš„éš¾ç‚¹åœ¨äºæ‰¾åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œä½†æ˜¯æˆ‘å¯¹äºè¿™è¿˜æ²¡æœ‰å…¥é—¨åŠ¨æ€è§„åˆ’çš„äººæ¥è¯´ï¼Œæ‰¾åˆ°çŠ¶æ€éƒ½æ˜¯ä¸€ä»¶éš¾äº‹å„¿ğŸŒš ã€‚

åœ¨æœ¬é¢˜ä¸­çš„æœ€ä½³å­ç»“æ„ä¾¿æ˜¯ä»¥æ¯ä¸ªä½ç½®ä¸ºç»ˆç‚¹çš„æœ€å¤§å­æ•°åˆ—éƒ½æ˜¯åŸºäºå‰ä¸€ä½ç½®çš„æœ€å¤§å­æ•°åˆ—è®¡ç®—å¾—å‡ºçš„ã€‚æ•…å…¶çŠ¶æ€è½¬ç§»è½¬ç§»æ–¹ç¨‹ä¸ºï¼šsum[i] = max(sum[i-1]+a[i],a[i])ï¼›è¿™æ ·è¯´èµ·æ¥è¿˜æ˜¯æœ‰äº›æŠ½è±¡ï¼Œä¸è¿‡æˆ‘ä¹Ÿæ— æ³•åšåˆ°æ›´å¥½çš„è§£é‡Šäº†ï¼Œå¯ä»¥ç»“åˆä¸‹é¢çš„è¯¦ç»†ä»£ç ç†è§£ã€‚

```javascript
// Kadaneç®—æ³•æ‰«æä¸€æ¬¡æ•´ä¸ªæ•°åˆ—çš„æ‰€æœ‰æ•°å€¼ï¼Œ
// åœ¨æ¯ä¸€ä¸ªæ‰«æç‚¹è®¡ç®—ä»¥è¯¥ç‚¹æ•°å€¼ä¸ºç»“æŸç‚¹çš„å­æ•°åˆ—çš„æœ€å¤§å’Œï¼ˆæ­£æ•°å’Œï¼‰ã€‚
// è¯¥å­æ•°åˆ—ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä»¥å‰ä¸€ä¸ªä½ç½®ä¸ºç»“æŸç‚¹çš„æœ€å¤§å­æ•°åˆ—ã€è¯¥ä½ç½®çš„æ•°å€¼ã€‚
// å› ä¸ºè¯¥ç®—æ³•ç”¨åˆ°äº†â€œæœ€ä½³å­ç»“æ„â€ï¼ˆä»¥æ¯ä¸ªä½ç½®ä¸ºç»ˆç‚¹çš„æœ€å¤§å­æ•°åˆ—éƒ½æ˜¯åŸºäºå…¶å‰ä¸€ä½ç½®çš„æœ€å¤§å­æ•°åˆ—è®¡ç®—å¾—å‡º, 
// è¯¥ç®—æ³•å¯çœ‹æˆåŠ¨æ€è§„åˆ’çš„ä¸€ä¸ªä¾‹å­ã€‚
// çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šsum[i] = max{sum[i-1]+a[i],a[i]}   
// å…¶ä¸­(sum[i]è®°å½•ä»¥a[i]ä¸ºå­åºåˆ—æœ«ç«¯çš„æœ€å¤§åºå­åˆ—è¿ç»­å’Œ)
function  maxSubArray2  ( nums ) {
    if (!nums.length) {
        return;
    };
    // åœ¨æ¯ä¸€ä¸ªæ‰«æç‚¹è®¡ç®—ä»¥è¯¥ç‚¹æ•°å€¼ä¸ºç»“æŸç‚¹çš„å­æ•°åˆ—çš„æœ€å¤§å’Œï¼ˆæ­£æ•°å’Œï¼‰ã€‚
    let max_ending_here = nums[0];
    let max_so_far = nums[0];

    for (let i = 1; i < nums.length; i ++ ) {
        // ä»¥æ¯ä¸ªä½ç½®ä¸ºç»ˆç‚¹çš„æœ€å¤§å­æ•°åˆ— éƒ½æ˜¯åŸºäºå…¶å‰ä¸€ä½ç½®çš„æœ€å¤§å­æ•°åˆ—è®¡ç®—å¾—å‡º,

        max_ending_here = Math.max ( nums[i], max_ending_here + nums[i]);
        max_so_far = Math.max ( max_so_far, max_ending_here);
    };

    return max_so_far;
};
```

ä¸Šé¢è¿™æ®µä»£ç æ¥è‡ªåœ¨[ã€Šè¯¦ç»†è§£è¯»åŠ¨æ€è§„åˆ’çš„å®ç°, æ˜“ç†è§£ã€‹](https://leetcode-cn.com/problems/maximum-subarray/solution/xiang-xi-jie-du-dong-tai-gui-hua-de-shi-xian-yi-li/) ï¼Œä¸çŸ¥é“ä½ åœ¨é˜…è¯»å®Œè¿™ä¸€éƒ¨åˆ†ä»£ç ä¹‹åï¼Œæœ‰æ²¡æœ‰æ„Ÿè§‰è¿™éƒ¨åˆ†ä»£ç çš„é€»è¾‘å’Œå‰é¢çš„ä¼˜åŒ–å‰ç¼€ç‰ˆæœ¬çš„ä»£ç é€»è¾‘éå¸¸ç›¸ä¼¼ï¼Œéƒ½æ˜¯åœ¨ä¿å­˜ä»¥è¯¥ç‚¹æ•°å€¼ä¸ºç»“æŸçš„å­åºåˆ—çš„æœ€å¤§å’Œï¼Œåªæ˜¯å®ç°æ–¹å¼ä¸åŒã€‚

åœ¨å……åˆ†ç†è§£äº†ä¸Šé¢çš„ä»£ç ä¹‹åï¼Œæˆ‘ä¹Ÿé€šè¿‡ä¸€äº› reduce() æ–¹æ³•å°†ä¸Šè¾¹çš„ä»£ç å†™æˆäº†ä¸€è¡Œçš„æ¨¡å¼ï¼Œé€»è¾‘ä¸Šæ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œä½ å¯ä»¥å°è¯•ç†è§£ä¸€ä¸‹ï¼Œä½†æ˜¯æˆ‘éå¸¸ä¸æ¨èä½ å†™è¿™æ ·æ¯«æ— å¯è¯»æ€§çš„ä»£ç ã€‚æˆ‘å†™è¿™æ ·ä¸€è¡Œä»£ç ï¼Œä¸»è¦æ˜¯æƒ³å°è¯•èƒ½å¦åœ¨æ¯ä¸€é“é¢˜ä¸­éƒ½å†™å‡ºä¸€è¡Œä»£ç çš„è§£å†³æ–¹æ¡ˆï¼Œä»…ä¸ªäººå–œå¥½ï¼Œä¸å–œå‹¿å–·ï¼Œæ„Ÿè°¢ï¼

```javascript
var maxSubArray = function(nums) {
    return nums.reduce((pre,val)=>{let tempPre=Math.max(pre[0]+val,val);return[tempPre,Math.max(pre[1],tempPre)]},[0,nums[0]])[1]
};

```

### æ–¹æ¡ˆä¸‰ï¼šåˆ†æ²»æ³•

åˆ†æ²»ç®—æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå…ˆå°†é—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜ï¼›è§£å†³å­é—®é¢˜åï¼Œå†å°†å­é—®é¢˜åˆå¹¶ï¼Œè§£å†³ä¸»é—®é¢˜ã€‚

åœ¨æœ¬é¢˜ä¸­åº”ç”¨åˆ†æ²»ç®—æ³•çš„åŸºæœ¬æ€è·¯æ˜¯ï¼š

1. å°†æ•°ç»„ä»ä¸­é—´åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ã€‚ä¾‹å¦‚ `[1,2,3,4] `åˆ†ä¸º `[1,2]` å’Œ `[3,4]`
2. é€šè¿‡é€’å½’è®¡ç®—ï¼Œå¾—åˆ°å·¦å³ä¸¤éƒ¨åˆ†çš„æœ€å¤§å­åºåˆ—å’Œæ˜¯lsumï¼Œrsumã€‚
3. ä»æ•°ç»„ä¸­é—´å¼€å§‹å‘ä¸¤è¾¹è®¡ç®—æœ€å¤§å­åºåˆ—å’Œ cross
4. è¿”å› max(lsum,corss,rsum)

å¯èƒ½ä½ ä¼šç–‘æƒ‘ä¸ºä»€ä¹ˆä¼šæœ‰ç¬¬ 3 æ­¥ï¼Ÿå› ä¸ºåˆ†æ²»æ³•çš„å…³é”®æ˜¯ï¼Œæœ€å¤§å­åºåˆ—å’Œåªæœ‰å¯èƒ½å‡ºç°åœ¨å·¦å­æ•°ç»„ã€å³å­æ•°ç»„æˆ–è€…æ˜¯æ¨ªè·¨å·¦å³å­æ•°ç»„ä¸‰ç§æƒ…å†µã€‚å‰é¢ç¬¬ 2 æ­¥è§£å†³äº†å‡ºç°åœ¨å·¦/å³å­æ•°ç»„ä¸­çš„æƒ…å†µï¼Œè€Œç¬¬3æ­¥è§£å†³äº†æ¨ªè·¨å·¦å³å­æ•°ç»„çš„æƒ…å†µã€‚

è¯¦ç»†è¿‡ç¨‹å¯ä»¥å‚è€ƒä¸‹å›¾ï¼ˆæ¥è‡ªå®˜æ–¹å›¾è§£ï¼‰ï¼š

![å®˜æ–¹å›¾è§£](https://pic.leetcode-cn.com/3aa2128a7ddcf1123454a6e5364792490c5edff62674f3cfd9c81cb7b5e8e522-file_1576478143567) 

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/maximum-subarray/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-03-09-max-sub-sum/

/**
 * @param {number[]} nums
 * @param {number} left
 * @param {number} right
 * @param {number} mid
 * @return {number}
 */
function crossSum(nums, left, right, mid) {
    if (left === right) {
        return nums[left];
    }

    let leftMaxSum = Number.MIN_SAFE_INTEGER;
    let leftSum = 0;
    for (let i = mid; i >= left; --i) {
        leftSum += nums[i];
        leftMaxSum = Math.max(leftMaxSum, leftSum);
    }

    let rightMaxSum = Number.MIN_SAFE_INTEGER;
    let rightSum = 0;
    for (let i = mid + 1; i <= right; ++i) {
        rightSum += nums[i];
        rightMaxSum = Math.max(rightMaxSum, rightSum);
    }

    return leftMaxSum + rightMaxSum;
}

/**
 * @param {number[]} nums
 * @param {number} left
 * @param {number} right
 * @return {number}
 */
function __maxSubArray(nums, left, right) {
    if (left === right) {
        return nums[left];
    }

    const mid = Math.floor((left + right) / 2);
    const lsum = __maxSubArray(nums, left, mid);
    const rsum = __maxSubArray(nums, mid + 1, right);
    const cross = crossSum(nums, left, right, mid);

    return Math.max(lsum, rsum, cross);
}

/**
 * @param {number[]} nums
 * @return {number}
 */
var maxSubArray = function(nums) {
    return __maxSubArray(nums, 0, nums.length - 1);
};
```

ä»¥ä¸Šå°±æ˜¯æœ¬é¢˜çš„æ‰€æœ‰é¢˜è§£å•¦ï¼Œæ„Ÿè°¢ä½ èƒ½çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœæœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©çš„è¯ï¼Œåˆ«å¿˜äº†ç»™ä¸€ä¸ª Star å—·ï½
å¦‚æœä½ å¯¹é¢˜è§£ä¸­çš„ä»£ç æœ‰ä¸ä¸€æ ·çš„ä¼˜åŒ–æ„è§ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ issue ä¸­æŒ‡å‡ºï½
æœ€é‡è¦çš„æ˜¯ä¸è¦å¿˜äº†ç‚¹ç‚¹å…³æ³¨å—·ï¼ˆ[Github](https://github.com/KimYangOfCat)ã€[åŠ›æ‰£](https://leetcode-cn.com/u/kimyang/)ï¼‰ï¼Œä»¥ä¾¿è·å–æˆ‘æœ€æ–°çš„é¢˜è§£ä»¥åŠæ–‡ç« é€šçŸ¥ã€‚

### å‚è€ƒ

+ [è¯¦ç»†è§£è¯»åŠ¨æ€è§„åˆ’çš„å®ç°, æ˜“ç†è§£](https://leetcode-cn.com/problems/maximum-subarray/solution/xiang-xi-jie-du-dong-tai-gui-hua-de-shi-xian-yi-li/)
+ [æœ€å¤§å­åºå’Œ](https://leetcode-cn.com/problems/maximum-subarray/solution/zui-da-zi-xu-he-by-leetcode-solution/)
+ [ã€äº”ç§è§£æ³•ä¸‰ç§è¯­è¨€ã€‘ï¼ˆJavaï¼Œ JavaScriptï¼Œ Pythonï¼‰](https://leetcode-cn.com/problems/maximum-subarray/solution/wu-chong-jie-fa-san-chong-yu-yan-java-javascript-2/)
+ [ã€è¶…å…¨Â·4ç§è§£æ³•ã€‘åŠ¨æ€è§„åˆ’åŠä¼˜åŒ–ã€è´ªå¿ƒæ³•ã€åˆ†æ²»æ³•ï¼ˆJavaScriptå®ç°ï¼‰](https://leetcode-cn.com/problems/maximum-subarray/solution/chao-quan-4chong-jie-fa-dong-tai-gui-hua-ji-you-hu/)

æœ¬æ–‡éƒ¨åˆ†å†…å®¹å‚è€ƒäº†ä»¥ä¸Šæ–‡ç« ï¼Œæ„Ÿè°¢åŸä½œè€…çš„åˆ›ä½œï½

## å…¨éƒ¨ä»£ç 

<RecoDemo :collapse="true">
  <template slot="code-js">
    <<< @/blog/algorithm/src/js/53.æœ€å¤§å­åºå’Œ.js
  </template>
</RecoDemo>