---
title: "ã€Œ690. å‘˜å·¥çš„é‡è¦æ€§ã€é¢˜è§£"
date: 2021-05-01
tags: [LeetCode,Algorithm]
categories: [ğŸ“ ç®—æ³•é¢˜è§£]
---
# [690. å‘˜å·¥çš„é‡è¦æ€§](https://leetcode-cn.com/problems/employee-importance/)

**å°ç›®æ ‡ï¼šç™¾ç¯‡é¢˜è§£ä¹‹åä¸€ï¼Œç ´ç™¾å¼€æºæˆåº“**ã€‚å…³æ³¨æˆ‘ï¼ˆ[Github](https://github.com/KimYangOfCat)ã€[åŠ›æ‰£](https://leetcode-cn.com/u/kimyang/)ï¼‰ï¼Œå³å¯è·å–æœ€æ–°é¢˜è§£ã€‚

## é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªä¿å­˜å‘˜å·¥ä¿¡æ¯çš„æ•°æ®ç»“æ„ï¼Œå®ƒåŒ…å«äº†å‘˜å·¥ **å”¯ä¸€çš„ id** ï¼Œ**é‡è¦åº¦** å’Œ **ç›´ç³»ä¸‹å±çš„ id** ã€‚

æ¯”å¦‚ï¼Œå‘˜å·¥ 1 æ˜¯å‘˜å·¥ 2 çš„é¢†å¯¼ï¼Œå‘˜å·¥ 2 æ˜¯å‘˜å·¥ 3 çš„é¢†å¯¼ã€‚ä»–ä»¬ç›¸åº”çš„é‡è¦åº¦ä¸º 15 , 10 , 5 ã€‚é‚£ä¹ˆå‘˜å·¥ 1 çš„æ•°æ®ç»“æ„æ˜¯ [1, 15, [2]] ï¼Œå‘˜å·¥ 2çš„ æ•°æ®ç»“æ„æ˜¯ [2, 10, [3]] ï¼Œå‘˜å·¥ 3 çš„æ•°æ®ç»“æ„æ˜¯ [3, 5, []] ã€‚æ³¨æ„è™½ç„¶å‘˜å·¥ 3 ä¹Ÿæ˜¯å‘˜å·¥ 1 çš„ä¸€ä¸ªä¸‹å±ï¼Œä½†æ˜¯ç”±äº **å¹¶ä¸æ˜¯ç›´ç³»** ä¸‹å±ï¼Œå› æ­¤æ²¡æœ‰ä½“ç°åœ¨å‘˜å·¥ 1 çš„æ•°æ®ç»“æ„ä¸­ã€‚

ç°åœ¨è¾“å…¥ä¸€ä¸ªå…¬å¸çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ï¼Œä»¥åŠå•ä¸ªå‘˜å·¥ id ï¼Œè¿”å›è¿™ä¸ªå‘˜å·¥å’Œä»–æ‰€æœ‰ä¸‹å±çš„é‡è¦åº¦ä¹‹å’Œã€‚

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼š[[1, 5, [2, 3]], [2, 3, []], [3, 3, []]], 1
è¾“å‡ºï¼š11
è§£é‡Šï¼š
å‘˜å·¥ 1 è‡ªèº«çš„é‡è¦åº¦æ˜¯ 5 ï¼Œä»–æœ‰ä¸¤ä¸ªç›´ç³»ä¸‹å± 2 å’Œ 3 ï¼Œè€Œä¸” 2 å’Œ 3 çš„é‡è¦åº¦å‡ä¸º 3 ã€‚å› æ­¤å‘˜å·¥ 1 çš„æ€»é‡è¦åº¦æ˜¯ 5 + 3 + 3 = 11 ã€‚
```

**æç¤ºï¼š**

- ä¸€ä¸ªå‘˜å·¥æœ€å¤šæœ‰ä¸€ä¸ª **ç›´ç³»** é¢†å¯¼ï¼Œä½†æ˜¯å¯ä»¥æœ‰å¤šä¸ª **ç›´ç³»** ä¸‹å±
- å‘˜å·¥æ•°é‡ä¸è¶…è¿‡ 2000 ã€‚

**ç›¸å…³ä¿¡æ¯**ï¼š

+ éš¾åº¦ï¼šç®€å•
+ æ ‡ç­¾ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ã€å¹¿åº¦ä¼˜å…ˆæœç´¢ã€å“ˆå¸Œè¡¨

## é¢˜è§£

è¿™é“é¢˜ç›®æ˜¯äº”ä¸€åŠ³åŠ¨èŠ‚å½“å¤© LeetCode çš„æ‰“å¡é¢˜ç›®ï¼Œåªèƒ½è¯´ LeetCode é€‰é¢˜å¤ªå¥‘åˆèŠ‚æ—¥ï¼Œå“ˆå“ˆã€‚é¢˜ç›®å¾ˆæ¸…æ™°çš„æè¿°äº†ä¸€ä¸ªæ ‘å½¢çš„æ•°æ®ç»“æ„ï¼Œæ¯ä¸ªå‘˜å·¥è‡³å¤šæœ‰ä¸€ä¸ªç›´ç³»é¢†å¯¼ï¼Œå¯ä»¥æœ‰é›¶ä¸ªæˆ–è‹¥å¹²ä¸ªç›´ç³»ä¸‹å±ï¼Œæ‰€ä»¥å‘˜å·¥ä¹‹é—´çš„é¢†å¯¼å’Œä¸‹å±å…³ç³»å°±æ„æˆäº†æ ‘å½¢ç»“æ„ã€‚é¢˜ç›®è¦æ±‚è®¡ç®—ç»™å®šå‘˜å·¥åŠå…¶ä¸‹å±çš„é‡è¦æ€§ä¹‹å’Œï¼Œå³è¦æ±‚éå†ä»¥ç»™å®šå‘˜å·¥ä¸ºæ ¹çš„å­æ ‘å¹¶è®¡ç®—æ‰€æœ‰èŠ‚ç‚¹å€¼çš„å’Œã€‚é‚£ä¹ˆè¿™é“é¢˜ç›®å°±è½¬åŒ–ä¸ºäº†æ ‘çš„éå†é—®é¢˜ï¼Œå…¶è§£å†³æ–¹æ¡ˆæ— éæ˜¯æ·±åº¦ä¼˜å…ˆæœç´¢æˆ–è€…å¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚

åªæ˜¯ç¤ºä¾‹æœ‰äº›è¿·æƒ‘æ€§ï¼Œå®¹æ˜“å¯¼è‡´è€ƒè™‘ä¸å‘¨ã€‚åœ¨ç¤ºä¾‹ä¸­ï¼Œåˆ—ä¸¾çš„å‘˜å·¥ ID ä¸æ•°ç»„çš„ä¸‹æ ‡å€¼æ­£å¥½æ˜¯åŠ 1çš„å…³ç³»ï¼Œæ‰€ä»¥è¯¯å¯¼äº†æˆ‘ï¼Œæ²¡æœ‰è€ƒè™‘å»ä¿å­˜å‘˜å·¥ ID å€¼ã€‚ç¤ºä¾‹æ•°æ®è½¬æ¢å‡ºæ¥çš„æ•°æ®å¯¹è±¡ï¼Œå¤§è‡´å¦‚ä¸‹ï¼š

```javascript
const employees = [
  {
    id: 1,
    importance: 5,
    subordinates: [2, 3],
  },
  {
    id: 2,
    importance: 3,
    subordinates: [],
  },
  {
    id: 3,
    importance: 3,
    subordinates: [],
  },
];
```

### æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢

æ·±åº¦ä¼˜å…ˆæœç´¢æ˜¯æˆ‘æƒ³åˆ°çš„é¦–è¦è§£å†³æ–¹æ³•ï¼Œæ¯”è¾ƒç›´è§‚ï¼Œå³æ ¹æ®ç»™å®šå‘˜å·¥ ID æ‰¾åˆ°å…¶ä¸‹å±ï¼Œè¦è®¡ç®—ç»™å®šå‘˜å·¥å°±å…ˆè®¡ç®—å…¶ä¸‹å±çš„é‡è¦æ€§ï¼Œè¿™æ ·ä¸€å±‚å±‚çš„æ·±å…¥ä¸‹å»ï¼Œç›´åˆ°æ²¡æœ‰ä¸‹å±ä¸ºæ­¢ï¼Œä¾¿è¿”å›å…¶é‡è¦æ€§ã€‚ç„¶åä¸€å±‚å±‚ç´¯è®¡ï¼ŒçŸ¥é“ç®—å‡ºæœ€åˆç»™å®šçš„å‘˜å·¥çš„é‡è¦æ€§ä¹‹å’Œã€‚

```javascript
//æºç æ¥è‡ªï¼šhttps://leetcode-cn.com/problems/employee-importance/solution/yuan-gong-de-zhong-yao-xing-by-leetcode-h6xre/
var GetImportance = function(employees, id) {
    const map = new Map();
    for (const employee of employees) {
        map.set(employee.id, employee);//åˆ©ç”¨ Map ä»¥ id ä¸ºé”®ä¿å­˜æ¯ä¸ªå‘˜å·¥ä¿¡æ¯ï¼Œæ–¹ä¾¿åé¢æŸ¥æ‰¾æ—¶å¿«é€Ÿè·å–å‘˜å·¥ä¿¡æ¯ã€‚
    }
    const dfs = (id) => {
        const employee = map.get(id);//è·å–å½“å‰å‘˜å·¥ä¿¡æ¯
        let total = employee.importance;//è·å–å½“å‰å‘˜å·¥é‡è¦æ€§
        const subordinates = employee.subordinates;//è·å–å½“å‰å‘˜å·¥çš„ä¸‹å±æ•°ç»„
        for (const subId of subordinates) {
          //éå†æ¯ä¸ªä¸‹å±ï¼Œå¹¶é€šè¿‡é€’å½’ç´¯è®¡é‡è¦æ€§ä¹‹å’Œ
            total += dfs(subId);
        }
        return total;
        
    }

    return dfs(id);
};
```

ä¸Šè¾¹ä»£ç æ˜¯é€šè¿‡ä¸€ä¸ª map ä¿å­˜äº†æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ï¼Œè¿™æ ·è™½ç„¶èƒ½åšåˆ°éšæ—¶æŸ¥é˜…å‘˜å·¥ä¿¡æ¯ï¼Œä½†ä¹Ÿå¢åŠ äº†ç©ºé—´å¤æ‚åº¦ã€‚å…¶å®åˆ©ç”¨ for å¾ªç¯ åŠ åŸå§‹æ•°ç»„ä¹Ÿå¯ä»¥å®ç°ï¼š

```javascript
//æºç æ¥è‡ªï¼šhttps://leetcode-cn.com/problems/employee-importance/solution/di-gui-xiang-jia-by-tricell/
var GetImportance = function (employees, id) {
  var importance = 0;
  var computeImportance = function (id) {
    for (var i = 0; i < employees.length; i++) {
      if (employees[i].id === id) {//æŸ¥æ‰¾å¯¹åº”idçš„å‘˜å·¥ä¿¡æ¯
        importance += employees[i].importance;//ç´¯è®¡
        if (employees[i].subordinates.length > 0) {//æœ‰ä¸‹å±
          for (var j = 0; j < employees[i].subordinates.length; j++) {
            computeImportance(employees[i].subordinates[j])//é€’å½’å¾ªç¯
          }
        }
      }
    }
  }
  computeImportance(id)
  return importance;
};
```

ä¸Šé¢ä»£ç æ¯æ¬¡é€’å½’éƒ½ä¼šé€šè¿‡ä¸€ä¸ªå¾ªç¯æ¥æŸ¥æ‰¾å‘˜å·¥ä¿¡æ¯ï¼ŒåŸæœ¬æˆ‘ä»¥ä¸ºè¿™æ ·çš„æ—¶é—´å¤æ‚åº¦ä¼šè¿œè¿œå¤§äºä¹‹å‰ä½¿ç”¨ map å®ç°çš„ç‰ˆæœ¬ã€‚ä½†æ˜¯ç»è¿‡æˆ‘å®é™…æµ‹è¯•ï¼Œæ­£æ˜¯è¿™æ ·æœ€åŸºæœ¬çš„ for å¾ªç¯ï¼Œä¸ç®¡æ˜¯åœ¨æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯ç©ºé—´å¤æ‚åº¦ä¸Šéƒ½æ‰“è´¥äº†çœ‹ä¼¼æ›´æ˜“ç†è§£çš„ map å®ç°çš„ä»£ç ã€‚çœŸæ˜¯å¾ˆç¥å¥‡ã€‚è‡³äºä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™æ ·çš„æƒ…å†µï¼Œå¯èƒ½ä¸ JavaScript è¯­è¨€ä¸­ Map å¯¹è±¡çš„ get æ–¹æ³•çš„å…·ä½“å®ç°æœ‰å…³ã€‚ä¸è¿‡æˆ‘ä¹‹å‰æœ‰çœ‹åˆ°è¿™æ ·ä¸€å¥ç»“è®ºï¼Œfor å¾ªç¯ä½œä¸º JavaScript ä¸­æœ€æ—©å®ç°çš„å¾ªç¯ï¼Œå…¶æœ¬èº«çš„ä¼˜åŒ–æ˜¯æ‰€æœ‰å¾ªç¯è¯­å¥ä¸­æœ€å¥½çš„ã€‚

### æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢

å¹¿åº¦ä¼˜å…ˆå°±æ˜¯åœ¨ä¸Šé¢æ·±åº¦ä¼˜å…ˆçš„åŸºç¡€ä¸ŠåŠ äº†ä¸€ä¸ªé˜Ÿåˆ—æ¥ä¿å­˜åº”è¯¥ç«‹å³è®¡ç®—çš„å‘˜å·¥idï¼Œå‰é¢æ·±åº¦ä¼˜å…ˆæ‰¾åˆ°ä¸€ä¸ªå‘˜å·¥idï¼Œç«‹åˆ»é€’å½’è°ƒç”¨è®¡ç®—ã€‚ä½†æ˜¯å¹¿åº¦ä¼˜å…ˆå°±æ˜¯æ‰¾åˆ°äº†ä¸€ä¸ªå‘˜å·¥ idï¼Œå…ˆä¸ç€æ€¥é€’å½’è°ƒç”¨ï¼Œè€Œæ˜¯å°†å…¶ä¿å­˜åˆ°ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œæ¯æ¬¡ä»é˜Ÿå¤´å–å‡ºä¸€ä¸ª id å€¼ï¼Œæ‰§è¡Œé€’å½’è°ƒç”¨ã€‚

```javascript
//åŸä»£ç æ¥è‡ªï¼šhttps://leetcode-cn.com/problems/employee-importance/solution/yuan-gong-de-zhong-yao-xing-by-leetcode-h6xre/
var GetImportance = function(employees, id) {
    const map = new Map();
    for (const employee of employees) {
        map.set(employee.id, employee);
    }
    let total = 0;
    const queue = [];//å¾…å¤„ç†é˜Ÿåˆ—
    queue.push(id);
    while (queue.length) {
        const curId = queue.shift();
        const employee = map.get(curId);
        total += employee.importance;
        const subordinates = employee.subordinates;
        for (const subId of subordinates) {
            queue.push(subId);//ä¿å­˜ä¸‹å± id
        }
    }
    return total;
};
```

ç›¸æ¯”äºæ·±åº¦ä¼˜å…ˆï¼Œå¹¿åº¦ä¼˜å…ˆå¤šå»ºç«‹äº†ä¸€ä¸ªå¾…å¤„ç†é˜Ÿåˆ—ï¼Œæ”¹å˜äº†è®¡ç®—é¡ºåºï¼Œä»é€’å½’çš„å®ç°æ–¹å¼å˜ä¸ºäº†è¿­ä»£ã€‚è™½ç„¶çœ‹èµ·æ¥å¹¿åº¦ä¼˜å…ˆæœç´¢çš„ç©ºé—´å¤æ‚åº¦åº”è¯¥æ›´é«˜ï¼Œä½†å…¶å®å·®ä¸å¤šå“’ã€‚

ä»¥ä¸Šå°±æ˜¯æœ¬é¢˜çš„æ‰€æœ‰é¢˜è§£å•¦ï¼Œæ„Ÿè°¢ä½ èƒ½çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœæœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©çš„è¯ï¼Œåˆ«å¿˜äº†ç»™ä¸€ä¸ª Star å—·ï½
å¦‚æœä½ å¯¹é¢˜è§£ä¸­çš„ä»£ç æœ‰ä¸ä¸€æ ·çš„ä¼˜åŒ–æ„è§ï¼Œä¹Ÿæ¬¢è¿ä½ åœ¨ issue ä¸­æŒ‡å‡ºï½
æœ€é‡è¦çš„æ˜¯ä¸è¦å¿˜äº†ç‚¹ç‚¹å…³æ³¨å—·ï¼ˆ[Github](https://github.com/KimYangOfCat)ã€[åŠ›æ‰£](https://leetcode-cn.com/u/kimyang/)ï¼‰ï¼Œä»¥ä¾¿è·å–æˆ‘æœ€æ–°çš„é¢˜è§£ä»¥åŠæ–‡ç« é€šçŸ¥ã€‚

### å‚è€ƒï¼š

+ [JavaScript æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰+å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰](https://leetcode-cn.com/problems/employee-importance/solution/javascript-shen-du-you-xian-sou-suo-dfsyan-du-you-/)
+ [å‘˜å·¥çš„é‡è¦æ€§](https://leetcode-cn.com/problems/employee-importance/solution/yuan-gong-de-zhong-yao-xing-by-leetcode-h6xre/)
+ [å¾ªç¯ + é€’å½’](https://leetcode-cn.com/problems/employee-importance/solution/xun-huan-di-gui-by-siwen19/)

