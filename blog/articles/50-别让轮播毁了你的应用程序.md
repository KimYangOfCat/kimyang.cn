---
title: "åˆ«è®©è½®æ’­æ¯äº†ä½ çš„åº”ç”¨ç¨‹åº"
date: 2021-09-4
tags: [JavaScript]
categories: [ğŸŒ ç¿»è¯‘æ ¡å¯¹]
publish: true
---

![](https://picbed.kimyang.cn/202109050848537.jpeg)
<!-- more -->
æ—¶è‡³ä»Šæ—¥ï¼Œè½®æ’­åœ¨ web åº”ç”¨ç¨‹åºè¢«å¹¿æ³›åœ°ç”¨ä½œä¸ºå¹»ç¯ç‰‡ç»„ä»¶ï¼Œç”¨äºå°†ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ å¾ªç¯æ’­æ”¾ã€‚

> è™½ç„¶è½®æ’­èƒ½ä½¿ä½ çš„åº”ç”¨ç¨‹åºå˜å¾—ç‹¬ç‰¹ï¼Œä½†å®ƒå¯èƒ½ä¼šé€ æˆå¯ç”¨æ€§ä¸Šçš„é—®é¢˜ï¼Œå¹¶é™ä½åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚

å› æ­¤ï¼Œæˆ‘ä¼šåœ¨è¿™ç¯‡æ–‡ç« ä¸­è®¨è®ºä½¿ç”¨è½®æ’­æ‰€å¸¦æ¥çš„è´Ÿé¢å½±å“ä»¥åŠè§£å†³è¿™äº›é—®é¢˜çš„æ–¹æ³•ã€‚

é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è½®æ’­ä¼šé€ æˆä»€ä¹ˆé—®é¢˜ã€‚

## å¯¹æ€§èƒ½çš„å½±å“

ä¸€ä¸ªè‰¯å¥½çš„è½®æ’­åº”è¯¥å¯¹æ€§èƒ½æœ‰æå°çš„å½±å“ï¼Œç”šè‡³æ˜¯æ²¡æœ‰å½±å“ã€‚ç„¶è€Œï¼Œå¦‚æœå®ƒåŒ…å«å…·æœ‰å¤§å‹åª’ä½“èµ„æºï¼Œåˆ™å¯èƒ½é€ æˆç”¨æˆ·å¯è§çš„åŠ è½½å»¶è¿Ÿã€‚

é€ æˆåŠ è½½å»¶è¿Ÿçš„åŸå› æœ‰å¾ˆå¤šç§ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹çš„æ ¸å¿ƒç½‘ç»œæŒ‡æ ‡æ¥æè¿°å¤§éƒ¨åˆ†çš„åŸå› ã€‚

### 1. æœ€å¤§å†…å®¹ç»˜åˆ¶ï¼ˆLCPï¼‰

è½®æ’­å¸¸å¸¸åŒ…å«å„ç§å°ºå¯¸ã€åˆ†è¾¨ç‡é«˜çš„å›¾ç‰‡ã€‚è¿™äº›å›¾ç‰‡æœ€ç»ˆä¼šæˆä¸ºé¡µé¢çš„ LCP å…ƒç´ ã€‚å› æ­¤ï¼ŒåŒ…å«è½®æ’­çš„ç½‘ç«™çš„ LCP å€¼å¯èƒ½ä¼šè¶…è¿‡ 2.5 ç§’ï¼ˆæ¨èå€¼ï¼‰ï¼Œè¿™ä¸¥é‡åœ°å½±å“äº†ç½‘ç«™çš„åŠ è½½æ€§èƒ½ã€‚

### 2. é¦–æ¬¡è¾“å…¥å»¶è¿Ÿï¼ˆFIDï¼‰

ç”±äºä¼ ç»Ÿçš„è½®æ’­å¯¹äº JavaScript çš„è¦æ±‚æä½ï¼Œå› æ­¤ä»–ä»¬ä¸å½±å“é¡µé¢çš„äº¤äº’æ€§ã€‚è¯è™½å¦‚æ­¤ï¼Œä½†é”™è¯¯åœ°å®ç°è½®æ’­ä¼šå¯¼è‡´ JavaScript é•¿æ—¶é—´è¿è¡Œï¼Œé€ æˆç½‘é¡µæ— å“åº”ï¼Œä»è€Œå¯¼è‡´æ›´é«˜çš„ FIDã€‚

### 3. ç´¯è®¡å¸ƒå±€åç§»ï¼ˆCLSï¼‰

è®¸å¤šçš„è½®æ’­ï¼ˆå°¤å…¶æ˜¯è‡ªåŠ¨æ’­æ”¾çš„é‚£ç§ï¼‰éƒ½åŒ…å«éåˆæˆåŠ¨ç”»ã€‚è¿™å¯èƒ½ä¼šé€ æˆç”¨æˆ·çš„è§†è§‰ä¸ç¨³å®šï¼Œæé«˜äº† CLS å€¼ã€‚

> **å¤‡æ³¨**ï¼šç”±äº Google ä½¿ç”¨æ ¸å¿ƒç½‘ç»œæŒ‡æ ‡æ¥ä¸º web åº”ç”¨ç¨‹åºæ’åï¼Œè¾ƒå·®çš„æŒ‡æ ‡æˆç»©ä¼šä½¿ä½ çš„åº”ç”¨ç¨‹åºåœ¨ Google æœç´¢ç»“æœä¸­æ’åè¾ƒä½ã€‚

## å¯¹ç”¨æˆ·ä½“éªŒï¼ˆUXï¼‰çš„å½±å“

å¯¹äºåœ¨æœ‰é™çš„ç©ºé—´ä¸­å±•ç¤ºå¤šä¸ªä¿¡æ¯ï¼Œè½®æ’­ä¼¼ä¹æ˜¯ä¸€ä¸ªå¸å¼•äººçš„è§£å†³æ–¹æ¡ˆã€‚ç„¶è€Œï¼Œè¿™å¯¹ç”¨æˆ·ä½“éªŒæœ‰ç€ä¸€äº›è´Ÿé¢çš„å½±å“ï¼Œä½†åœ¨ä¹ä¸€çœ‹ä¸‹ä½ å¾ˆéš¾å‘ç°è¿™äº›é—®é¢˜ã€‚

### 1. è§†è€Œä¸è§çš„ Banner

è½®æ’­ä¸»è¦ä½¿ç”¨æ¨¡ä»¿å¹¿å‘Šè®¾è®¡ç¾å­¦çš„åŠ¨ç”»å’Œå¸ƒå±€ã€‚ç»“æœï¼Œè®¸å¤šç”¨æˆ·å¼€å§‹å¿½ç•¥è½®æ’­ï¼ŒæŠŠå®ƒä»¬å½“ä½œå¹¿å‘Šå¹¶åœ¨å…¶ä»–åœ°æ–¹å¯»æ‰¾å†…å®¹ã€‚

### 2. å¯æ§æ€§ä½

ç»™äºˆç”¨æˆ·æ§åˆ¶æƒæ˜¯æ”¹å–„ç”¨æˆ·ä½“éªŒçš„åŸºç¡€ã€‚è½®æ’­çš„å¯æ§æ€§éå¸¸ç³Ÿç³•ï¼Œå°¤å…¶æ˜¯è‡ªåŠ¨æ’­æ”¾çš„è½®æ’­ã€‚è¿™æ˜¯å› ä¸ºç”¨æˆ·å¿…é¡»åœ¨ä¿¡æ¯æ¶ˆå¤±ä¹‹å‰å¿«é€Ÿåšå‡ºååº”ã€‚

è¿™è¿«ä½¿ç”¨æˆ·é™·å…¥è®¡åˆ’å¤–ä¸”ä»¤äººå›°æƒ‘çš„äº¤äº’ï¼Œä½¿ä»–ä»¬æ„Ÿè§‰å¤±å»æ§åˆ¶ã€‚

### 3. ä¸æ”¯æŒæ— éšœç¢åŠŸèƒ½

æ— è®ºç½‘ç«™çš„åˆ°è®¿è€…æ˜¯å¦æœ‰ä»»ä½•æ®‹ç–¾ï¼Œæˆ‘ä»¬éƒ½åº”è¯¥å…¬å¹³åœ°ä¸ºä»–ä»¬æä¾›æœåŠ¡ã€‚ä½†æ˜¯ï¼Œå¯¹äºè¯†å­—ç‡ä½æˆ–æœ‰è§†è§‰éšœç¢çš„ç”¨æˆ·æ¥è¯´ï¼Œè‡ªåŠ¨æ’­æ”¾çš„è½®æ’­å¯èƒ½éš¾ä»¥é˜…è¯»ã€‚

æ­¤å¤–ï¼Œè½®æ’­ä¸­çš„å°ç®­å¤´/å›¾æ ‡ä½¿å¾—ç§»åŠ¨ç«¯çš„ç”¨æˆ·å’Œæœ‰éšœç¢çš„äººå£«éš¾ä»¥å¯¼èˆªã€‚

![ä¸€ä¸ªä¸ä½³çš„è½®æ’­ç¤ºä¾‹](https://picbed.kimyang.cn/202109050849618.png)

> å›¾ä¸­æ–‡å­—æ³¨è§£ï¼šè‡ªåŠ¨æ’­æ”¾çš„è½®æ’­å’Œæ‰©å±•é¢æ¿ç»„ä»¶ä¼šä½¿ç”¨æˆ·åŒçƒ¦å¹¶ä¸”é™ä½å¯è§åº¦ã€‚

æˆ‘æƒ³ä½ ç°åœ¨å·²ç»äº†è§£äº†è½®æ’­å¯¹ä½ çš„åº”ç”¨ç¨‹åºæ‰€å¸¦æ¥çš„è´Ÿé¢å½±å“ã€‚

> ç„¶è€Œï¼Œå¦‚æœä½ çŸ¥é“è½®æ’­çš„æœ€ä½³å®ç°å’ŒæŠ€å·§ï¼Œé‚£ä¹ˆä½ ä¾¿èƒ½å…‹æœè¿™äº›é—®é¢˜ã€‚

## ä¼˜åŒ–è½®æ’­

è™½ç„¶è½®æ’­å½±å“åº”ç”¨ç¨‹åºçš„æ•ˆèƒ½ï¼Œä½†åœ¨æŸäº›åœºæ™¯ä¸‹æˆ‘ä»¬ä»éœ€è¦å®ƒä»¬ã€‚ä»¥ä¸‹çš„æç¤ºå’ŒæŠ€å·§èƒ½å¸®ä½ å…‹æœä¸Šè¿°çš„é—®é¢˜ï¼Œä½¿å¾—ä½ çš„è½®æ’­å¯¹ç”¨æˆ·è€Œè¨€æ›´å…·å¸å¼•åŠ›ã€‚

### 1. é€‰æ‹©æ­£ç¡®çš„å›¾ç‰‡å¤§å°

è½®æ’­ä¸­çš„å›¾ç‰‡æ˜¯å½±å“ç½‘ç«™ LCP æŒ‡æ ‡çš„ä¸»è¦å› ç´ ã€‚

> ä¸ºäº†å°† LCP å€¼ä¿æŒåœ¨ä¸€ä¸ªå¯ä»¥æ¥å—çš„èŒƒå›´å†…ï¼Œæˆ‘ä»¬å¿…é¡»ç¡®ä¿å›¾ç‰‡çš„å¤§å°ä¸è¶…è¿‡è¿‡ 500 kBï¼Œå¹¶ç¡®ä¿æ‰€æœ‰å›¾ç‰‡çš„å°ºå¯¸ç›¸åŒã€‚

æœ€ç®€å•çš„åŠæ³•æ˜¯åœ¨ä¸Šä¼ è½®æ’­å†…çš„å›¾ç‰‡ä¹‹å‰å°±å°†å…¶è¿›è¡Œå‹ç¼©ã€‚ç›¸æ¯”äº PNG æˆ– JPEG æ ¼å¼ï¼ŒJPEG 2000ã€JPG XRã€WebP ç­‰ä¸‹ä¸€ä»£å›¾ç‰‡æ ¼å¼èƒ½æ›´å¥½åœ°å‹ç¼©å›¾ç‰‡ã€‚

### 2. ç§»é™¤æ¸²æŸ“é˜»å¡èµ„æº

ä¸€äº›ç”¨äºè½®æ’­çš„ JavaScript æ–‡ä»¶å¯èƒ½éå¸¸å¤§ï¼Œå¹¶ä¸”æ—¶å¸¸é˜»å¡æ¸²æŸ“ã€‚

> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾ƒå¥½åœ°è§£å†³åŠæ³•æ˜¯æ‹†åˆ†å‡ºå¯¼è‡´é˜»å¡çš„å†…è” JavaScript/CSS å¹¶è¿›è¡Œé¢„åŠ è½½ï¼Œç‰¹åˆ«æ˜¯å½“è½®æ’­å›¾ä½äºä¸»é¡µæ—¶ã€‚

### 3. é¿å…å°†è½®æ’­é“¾æ¥åˆ°ä¸€ä¸ªç»å¯¹å¸ƒå±€çš„å›¾å±‚

å¦‚æœè½®æ’­é“¾æ¥åˆ°ä¸€ä¸ªç»å¯¹å¸ƒå±€çš„å›¾å±‚ï¼Œåˆ™å®ƒçš„ä½ç½®å°†ç›¸å¯¹äºè¯¥å›¾å±‚è€Œä¸æ˜¯å®¹å™¨ã€‚è½®æ’­é¦–å…ˆéœ€è¦è®¡ç®—å®ƒæ‰€é“¾æ¥åˆ°çš„ç»å¯¹å®šä½å›¾å±‚çš„ä½ç½®ï¼Œå†è®¡ç®—è‡ªèº«å›¾å±‚çš„ä½ç½®ã€‚

å› æ­¤ï¼Œè¿™éœ€è¦æ—¶é—´ â€”â€” åœ¨è®¡ç®—å‡ºæ¯ä¸ªå›¾å±‚çš„ä½ç½®ä¹‹å‰ï¼Œè½®æ’­ä¸èƒ½æ˜¾ç¤ºã€‚

> ä¸ºç¼©çŸ­åŠ è½½æ—¶é—´ï¼Œè¯·é¿å…ä½¿ç”¨é“¾æ¥å›¾å±‚ã€‚

### 4. å‡å°‘å¹»ç¯ç‰‡çš„æ•°é‡

é™¤éè½®æ’­ç”¨äºå®ç°ç”»å»Šæ•ˆæœï¼Œå¦åˆ™ç½®æ”¾å¤ªå¤šå¹»ç¯ç‰‡çš„æ•ˆæœå¹¶ä¸å¥½ï¼Œå› ä¸ºå…¶ä¸­çš„å¤§éƒ¨åˆ†éƒ½ä¼šè¢«ç”¨æˆ·å¿½ç•¥ã€‚å¦ä¸€æ–¹é¢ï¼Œæ›´å¤šçš„å¹»ç¯ç‰‡æ„å‘³ç€æ›´å¤šçš„å›¾å±‚ï¼Œè¿™å°†å¯¹åŠ è½½é€Ÿåº¦äº§ç”Ÿè´Ÿé¢çš„å½±å“ã€‚

### 5. æä¾›é†’ç›®çš„å¯¼èˆªæ§ä»¶

ä¸ºå¯¼è§ˆæ§ä»¶é€‰æ‹©é†’ç›®çš„é¢œè‰²å’Œå¤§å°ã€‚

### 6. æ˜¾ç¤ºå¯¼èˆªè¿›åº¦

æä¾›ä¸€äº›å…³äºå¹»ç¯ç‰‡æ•°é‡å’Œä¸‹ä¸€é¡µå†…å®¹çš„èµ„è®¯ã€‚è¿™ä½¿å¾—ç”¨æˆ·èƒ½æ›´è½»æ¾åœ°æµè§ˆå†…å®¹ï¼Œæé«˜ç”¨æˆ·å‚ä¸åº¦ã€‚

![åœ¨ Hilton ç½‘é¡µä¸Šçš„è½®æ’­](https://picbed.kimyang.cn/202109050849731.png)

åœ¨ä¸Šæ–¹çš„ç¤ºä¾‹ä¸­ï¼Œè½®æ’­ä¸­åŒ…å«æå°‘çš„å¹»ç¯ç‰‡ï¼Œå¹¶å¸¦æœ‰æŒ‡ç¤ºç”¨æˆ·è¿›åº¦çš„å¯¼èˆªæ§ä»¶ã€‚

### 7. ç§»åŠ¨ç«¯çš„æ‰‹åŠ¿æ”¯æŒ

åœ¨ç§»åŠ¨ç«¯ä¸Šï¼Œé™¤äº†ä¼ ç»Ÿçš„å¯¼è§ˆæ§ä»¶ï¼ˆä¾‹å¦‚æŒ‰é’®ï¼‰ä»¥å¤–ï¼Œåº”ç”¨ç¨‹åºä¹Ÿåº”è¯¥æ”¯æŒæ»‘åŠ¨æ‰‹åŠ¿ã€‚

### 8. æä¾›æ›¿ä»£çš„å¯¼è§ˆé€”å¾„

è½®æ’­å¹»ç¯ç‰‡ä¸­çš„å†…å®¹åº”å½“å¯ä»å…¶ä»–é€”å¾„è®¿é—®ï¼Œå› ä¸ºä¸æ˜¯æ‰€æœ‰çš„ç”¨æˆ·éƒ½å¯¹å…¶ä¸­çš„æ¯ä¸€ä¸ªå†…å®¹æ„Ÿå…´è¶£ã€‚

### 9. ä¸è¦ä½¿ç”¨è‡ªåŠ¨æ’­æ”¾

è‡ªåŠ¨æ’­æ”¾ä¼šåˆ†æ•£è¯»è€…çš„æ³¨æ„åŠ›ï¼Œä½¿å¾—å†…å®¹éš¾ä»¥é˜…è¯»ã€‚å› æ­¤ï¼Œç”¨æˆ·æ›´å€¾å‘äºå¿½ç•¥å®ƒä»¬ï¼Œè¿™å¯¼è‡´è½®æ’­ä¸­é‡è¦å†…å®¹çš„æ›å…‰ç‡ä¸‹é™ã€‚

> æœ€å¥½çš„è§£å†³æ–¹æ³•æ˜¯é€šè¿‡æ§ä»¶è®©ç”¨æˆ·è‡ªè¡Œæ§åˆ¶å¯¼èˆªè¿›åº¦ã€‚

### 10. åˆ†ç¦»æ–‡å­—å’Œå›¾ç‰‡

å½“è½®æ’­ä¸­å›¾ç‰‡åŒ…å«æ–‡å­—å†…å®¹æ—¶ï¼Œé˜…è¯»è¾…åŠ©åŠŸèƒ½ã€è¯­è¨€æœ¬åœ°åŒ–å’Œå‹ç¼©ç‡éƒ½ä¼šå—åˆ°å½±å“ã€‚

> å› æ­¤ï¼Œæˆ‘å»ºè®®ä½ ä½¿ç”¨ HTML å°†æ–‡å­—å•ç‹¬æ˜¾ç¤ºã€‚

## æ€»ç»“

æ¯«æ— ç–‘é—®ï¼Œè½®æ’­èƒ½è®©ä½ çš„åº”ç”¨ç¨‹åºå˜å¾—ç‹¬ç‰¹ä¸”æœ‰å¸å¼•åŠ›ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬åº”è¯¥è­¦æƒ•å…¶æ‰€å¸¦æ¥çš„è´Ÿé¢å½±å“ä»¥é¿å…è¸©å‘ã€‚

å› æ­¤ï¼Œå¦‚æœä½ éµå¾ªæœ¬ç¯‡æ–‡ç« æ‰€è®¨è®ºçš„æœ€ä½³å®è·µï¼Œé‚£ä¹ˆä½ å°±èƒ½åœ¨ç»´æŒå¯ç”¨æ€§å’Œæ€§èƒ½çš„æƒ…å†µä¸‹æ›´å¥½çš„å®ç°è½®æ’­ã€‚

æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼

> * åŸæ–‡åœ°å€ï¼š[Donâ€™t Let Carousels Kill Your Application](https://blog.bitsrc.io/dont-let-carousels-kill-your-application-ba5ce27f6d10)
> * åŸæ–‡ä½œè€…ï¼š[Isuri Devindi](https://medium.com/@isuridevindi)
> * è¯‘æ–‡å‡ºè‡ªï¼š[æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner)
> * æœ¬æ–‡æ°¸ä¹…é“¾æ¥ï¼š[https://github.com/xitu/gold-miner/blob/master/article/2021/dont-let-carousels-kill-your-application.md](https://github.com/xitu/gold-miner/blob/master/article/2021/dont-let-carousels-kill-your-application.md)
> * è¯‘è€…ï¼š[jaredliw](https://github.com/jaredliw)
> * æ ¡å¯¹è€…ï¼š[KimYangOfCat](https://github.com/KimYangOfCat)ã€[nia3y](https://github.com/nia3y)